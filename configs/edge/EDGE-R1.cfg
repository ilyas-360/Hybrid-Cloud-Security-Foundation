##################################################################
# DEVICE: R1
# ROLE: Enterprise Edge Router – Internet Gateway & NAT
#
# DESCRIPTION:
# This router operates as the enterprise perimeter gateway,
# providing controlled connectivity between internal networks
# and external service providers.
#
# Key responsibilities include:
# - IPv4/IPv6 dual-stack edge connectivity
# - NAT/PAT for private-to-public address translation
# - Default route origination into the internal OSPF domain
# - Centralized DHCP services for multiple VLANs
#
# This edge layer represents the foundation required for
# future Hybrid Cloud connectivity (S2S VPN, private access
# to cloud identity providers).
##################################################################

hostname R1

! =====================
! Administrative Security
! =====================
enable secret <REDACTED>
username cisco secret <REDACTED>
ip domain-name jeremysitlab.com
ip ssh version 2
no ip domain-lookup

! =====================
! DHCP – Identity Assignment
! =====================
ip dhcp excluded-address 10.0.0.1 10.0.0.10
ip dhcp excluded-address 10.1.0.1 10.1.0.10
ip dhcp excluded-address 10.2.0.1 10.2.0.10
ip dhcp excluded-address 10.3.0.1 10.3.0.10
ip dhcp excluded-address 10.4.0.1 10.4.0.10
ip dhcp excluded-address 10.6.0.1 10.6.0.10

ip dhcp pool A-Mgmt
 network 10.0.0.0 255.255.255.240
 default-router 10.0.0.1
 dns-server 10.5.0.4
 domain-name jeremysitlab.com

ip dhcp pool A-PC
 network 10.1.0.0 255.255.255.0
 default-router 10.1.0.1
 dns-server 10.5.0.4

ip dhcp pool A-Phone
 network 10.2.0.0 255.255.255.0
 default-router 10.2.0.1

ip dhcp pool B-PC
 network 10.3.0.0 255.255.255.0
 default-router 10.3.0.1

ip dhcp pool B-Phone
 network 10.4.0.0 255.255.255.0
 default-router 10.4.0.1

ip dhcp pool Wi-Fi
 network 10.6.0.0 255.255.255.0
 default-router 10.6.0.1

! =====================
! Interfaces – Dual Stack
! =====================
interface Loopback0
 description OSPF Router-ID
 ip address 10.0.0.76 255.255.255.255
 ip ospf 1 area 0

interface GigabitEthernet0/0
 description LINK_TO_CORE_CSW1
 ip address 10.0.0.33 255.255.255.252
 ip nat inside
 ip ospf 1 area 0
 ipv6 address 2001:DB8:A1::/64 eui-64

interface GigabitEthernet0/1
 description LINK_TO_CORE_CSW2
 ip address 10.0.0.37 255.255.255.252
 ip nat inside
 ip ospf 1 area 0
 ipv6 address 2001:DB8:A2::/64 eui-64

interface GigabitEthernet0/0/0
 description WAN_PRIMARY
 ip address dhcp
 ip nat outside
 ipv6 address 2001:DB8:A::2/64

interface GigabitEthernet0/1/0
 description WAN_SECONDARY
 ip address dhcp
 ip nat outside
 ipv6 address 2001:DB8:B::2/64

! =====================
! Routing – OSPF
! =====================
router ospf 1
 router-id 10.0.0.76
 passive-interface Loopback0
 default-information originate

! =====================
! NAT & Perimeter Policy
! =====================
ip nat pool EDGE-NAT 203.0.113.200 203.0.113.207 netmask 255.255.255.248
ip nat inside source list NAT_INSIDE pool EDGE-NAT overload
ip nat inside source static 10.5.0.4 203.0.113.113

access-list NAT_INSIDE permit 10.0.0.0 0.255.255.255

! =====================
! Management Plane Security
! =====================
line vty 0 15
 login local
 transport input ssh
 access-class 1 in
 exec-timeout 30 0
