! ##################################################################
! DEVICE: ASW-A1
! ROLE: Access Layer Switch (Site A)
!
! BUSINESS PURPOSE:
! Provides secure Layer 2 access for end-user devices while protecting
! the enterprise network from common edge-based attacks and
! misconfigurations.
!
! TECHNICAL RESPONSIBILITIES:
! - VLAN-based access segmentation (User, Voice, Management)
! - DHCP Snooping and Dynamic ARP Inspection enforcement
! - Port security with sticky MAC learning
! - STP edge protection using PortFast and BPDU Guard
!
! SECURITY & OPERABILITY:
! - Explicit trust boundaries toward distribution layer
! - Unused ports administratively disabled
! - Centralized logging, SNMP, and NTP integration
!
! SCOPE NOTE:
! CCNA access-layer features implemented with an enterprise security
! mindset and clear upstream trust boundaries.
! ##################################################################

version 15.0
no service timestamps log datetime msec
no service timestamps debug datetime msec
no service password-encryption

hostname ASW-A1

enable secret <REDACTED>

username cisco secret <REDACTED>

ip ssh version 2
ip domain-name jeremysitlab.com
ip name-server 10.5.0.4

lldp run

! --- LAYER 2 SECURITY CONTROLS ---
ip dhcp snooping
ip dhcp snooping vlan 10,20,40,99
no ip dhcp snooping information option

ip arp inspection vlan 10,20,40,99
ip arp inspection validate src-mac dst-mac ip

! --- SPANNING TREE ---
spanning-tree mode rapid-pvst
spanning-tree extend system-id

! --- ACCESS PORTS ---
interface FastEthernet0/1
 description USER_ENDPOINT
 switchport mode access
 switchport access vlan 99
 switchport nonegotiate
 switchport port-security
 switchport port-security violation restrict
 switchport port-security mac-address sticky
 ip dhcp snooping limit rate 15
 spanning-tree portfast
 spanning-tree bpduguard enable
 no lldp transmit

! --- UPLINKS TO DISTRIBUTION ---
interface GigabitEthernet0/1
 description UPLINK_TO_DSW
 switchport trunk native vlan 1000
 switchport trunk allowed vlan 10,20,40,99
 switchport mode trunk
 switchport nonegotiate
 ip dhcp snooping trust
 ip arp inspection trust

interface GigabitEthernet0/2
 description UPLINK_TO_DSW
 switchport trunk native vlan 1000
 switchport trunk allowed vlan 10,20,40,99
 switchport mode trunk
 switchport nonegotiate
 ip dhcp snooping trust
 ip arp inspection trust

! --- UNUSED PORT HARDENING ---
interface range FastEthernet0/2 - 24
 shutdown

! --- MANAGEMENT INTERFACE ---
interface Vlan99
 description MANAGEMENT
 ip address 10.0.0.4 255.255.255.240

interface Vlan1
 shutdown

ip default-gateway 10.0.0.1

! --- MANAGEMENT PLANE ---
no cdp run
snmp-server community SNMPSTRING RO
logging trap debugging
logging 10.5.0.4

line con 0
 login local
 exec-timeout 30 0
 logging synchronous

line vty 0 15
 login local
 transport input ssh
 access-class 1 in
 logging synchronous

ntp trusted-key 1
ntp server 10.0.0.76 key 1
